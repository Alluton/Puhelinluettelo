{"version":3,"sources":["components/services/persons.js","components/App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","Persons","props","persons","map","person","key","name","Person","number","Filter","value","newFilter","onChange","handleFilterChange","App","useState","setNewFilter","newName","setNewName","newNumber","setNewNumber","setPersons","useEffect","personService","then","response","data","console","log","length","personsToShow","filter","includes","event","target","onSubmit","preventDefault","nameObject","some","e","alert","concat","type","ReactDOM","render","document","getElementById"],"mappings":"0NACMA,EAAU,eAiBD,EAfA,WACb,OAAOC,IAAMC,IAAIF,IAcJ,EAXA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,ICJvBE,EAAU,SAACC,GACb,OACI,6BACI,4BACKA,EAAMC,QAAQC,KAAI,SAACC,GAAD,OACf,kBAAC,EAAD,CAAQC,IAAKD,EAAOE,KAAMF,OAAQA,UAMhDG,EAAQ,SAACN,GACX,OACI,6BACI,wBAAII,IAAKJ,EAAMG,OAAOE,MAAtB,IAA8BL,EAAMG,OAAOE,KAA3C,IAAkDL,EAAMG,OAAOI,UAIrEC,EAAO,SAACR,GACV,OACI,6BACI,2BAAOS,MAAOT,EAAMU,UAAWC,SAAUX,EAAMY,uBA6E5CC,EAxEH,SAACb,GAAW,IAAD,EACec,mBAAS,IADxB,mBACbJ,EADa,KACFK,EADE,OAEWD,mBAAS,IAFpB,mBAEbE,EAFa,KAEJC,EAFI,OAGeH,mBAAS,IAHxB,mBAGbI,EAHa,KAGFC,EAHE,OAISL,mBAAS,IAJlB,mBAIdb,EAJc,KAILmB,EAJK,KAKrBC,qBAAU,WACRC,IAEGC,MAAK,SAAAC,GACJJ,EAAWI,EAASC,WAEvB,IACHC,QAAQC,IAAI,SAAU1B,EAAQ2B,OAAQ,SAEtC,IAAMC,EAAmC,IAAnBnB,EAAUkB,OAC5B3B,EACAA,EAAQ6B,QAAO,SAAA3B,GAAM,OAAIA,EAAOE,KAAK0B,SAASrB,MAgClD,OACE,6BACE,yCACA,6BACE,kBAAC,EAAD,CAAQA,UAAWA,EAAWE,mBAPT,SAACoB,GAC1BjB,EAAaiB,EAAMC,OAAOxB,WAQxB,0BAAMyB,SArCQ,SAACF,GACjBA,EAAMG,iBACNT,QAAQC,IAAI,iBAAkBK,EAAMC,QACpC,IAAMG,EAAa,CACf/B,KAAKW,EACLT,OAAOW,GAENjB,EAAQoC,MAAK,SAAAC,GAAC,OAAIA,EAAEjC,OAASW,MAO9BI,EAAWnB,GACXsC,MAAM,GAAD,OAAIvB,EAAJ,oCAPLM,EACMc,GACPb,MAAK,SAAAC,GACJJ,EAAWnB,EAAQuC,OAAOhB,EAASC,UAMvCR,EAAW,IACXE,EAAa,MAoBT,sCACQ,2BAAOV,MAAOO,EAASL,SAnBZ,SAACqB,GACxBN,QAAQC,IAAIK,EAAMC,OAAOxB,OACzBQ,EAAWe,EAAMC,OAAOxB,WAmBpB,wCACU,2BAAOA,MAAOS,EAAWP,SAlBd,SAACqB,GAC1BN,QAAQC,IAAIK,EAAMC,OAAOxB,OACzBU,EAAaa,EAAMC,OAAOxB,WAkBtB,6BACE,4BAAQgC,KAAK,UAAb,SAGJ,uCACE,kBAAC,EAAD,CAASxC,QAAS4B,GAAlB,OC5FRa,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.628b6f20.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\nconst deletePerson = (id, newObject) => {\n  return axios.delete(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deletePerson: deletePerson\n}\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport personService from './services/persons'\n\nconst Persons = (props) =>{\n    return( \n        <div>\n            <ul>\n                {props.persons.map((person) => \n                    <Person key={person.name} person={person}></Person>\n                )}\n            </ul>\n        </div>\n    )\n}\nconst Person =(props) =>{\n    return(\n        <div>\n            <li key={props.person.name}> {props.person.name} {props.person.number}</li>\n        </div>\n    )\n}\nconst Filter=(props)=>{\n    return(\n        <div>\n            <input value={props.newFilter} onChange={props.handleFilterChange}/>\n        </div>\n    )\n}\n\nconst App = (props) => {\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [persons, setPersons] = useState([])\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n  console.log('render', persons.length, 'notes')\n\n  const personsToShow = newFilter.length===0\n    ? persons\n    : persons.filter(person => person.name.includes(newFilter))\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    const nameObject = {\n        name:newName,\n        number:newNumber\n    }\n    if (!persons.some(e => e.name === newName)) {\n        personService\n      .create(nameObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n      })\n    }else{\n        setPersons(persons)\n        alert(`${newName} is already added to phonebook`);\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event)=>{\n    setNewFilter(event.target.value)\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}></Filter>\n      </div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n        <Persons persons={personsToShow}> </Persons>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}